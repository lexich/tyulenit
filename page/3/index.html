<!doctype html><html lang=en dir=auto><head><meta name=generator content="Hugo 0.139.0"><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>ТюленITь</title><meta name=keywords content="Blog,IT"><meta name=description content><meta name=author content="lexich"><link rel=canonical href=https://tyulenit.com/><meta name=google-site-verification content="G-00G3WYG3BJ"><link crossorigin=anonymous href=/assets/css/stylesheet.d6fcd20a4fb86efa4dfac8ec95da60244cc8871042183da1ef28e3a762ad79c8.css integrity="sha256-1vzSCk+4bvpN+sjsldpgJEzIhxBCGD2h7yjjp2Ktecg=" rel="preload stylesheet" as=style><link rel=icon href=https://tyulenit.com/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://tyulenit.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://tyulenit.com/favicon-32x32.png><link rel=apple-touch-icon href=https://tyulenit.com/apple-touch-icon.png><link rel=mask-icon href=https://tyulenit.com/apple-touch-icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://tyulenit.com/index.xml><link rel=alternate hreflang=en href=https://tyulenit.com/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-00G3WYG3BJ"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-00G3WYG3BJ")}</script><meta property="og:url" content="https://tyulenit.com/"><meta property="og:site_name" content="ТюленITь"><meta property="og:title" content="ТюленITь"><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta property="og:image" content="https://tyulenit.com/seal.jpg"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://tyulenit.com/seal.jpg"><meta name=twitter:title content="ТюленITь"><meta name=twitter:description content><script type=application/ld+json>{"@context":"https://schema.org","@type":"Organization","name":"ТюленITь","url":"https://tyulenit.com/","description":"","logo":"https://tyulenit.com/favicon.ico","sameAs":["https://t.me/tyulenit","https://twitter.com/lexich","https://github.com/lexich"]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://tyulenit.com/ accesskey=h title="ТюленITь (Alt + H)"><img src=https://tyulenit.com/apple-touch-icon.png alt aria-label=logo height=35>ТюленITь</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://tyulenit.com/tags/ title=tags><span>tags</span></a></li></ul></nav></header><main class=main><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Asynchronous operations in mobx</h2></header><div class=entry-content><p>We continue our series of notes: “Cooking mobx without documentation”. Last time we implemented the Subscriber primitive. It is very useful, but not everyone has WebSockets or similar data generators in their project. What everyone has is a REST API. Although the work with asynchronous operations is described in the documentation, it raises some suspicions and a lot of boilerplate code from the architectural side. There is a mobx-utils package that contains the fromPromise method, but it is very unpredictable if you call it outside of the reactive context and you can get a ton of requests to the server.
...</p></div><footer class=entry-footer>2 min&nbsp;·&nbsp;368 words&nbsp;·&nbsp;lexich</footer><a class=entry-link aria-label="post link to Asynchronous operations in mobx" href=https://tyulenit.com/en/posts/2023-05-25-promisedmodel/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Insertion of Sorted Data in JS</h2></header><div class=entry-content><p>When I was writing in C++ about 10 years ago, I remember using the std:set structure to immediately insert data into an array in an orderly manner. In JavaScript, a similar Set has been added, but unfortunately, a comparator cannot be inserted into it. You will have to roll up your sleeves and write everything yourself.
export function pushSortable&lt;T>( list: T[], item: T, comparator: (a: T, b: T) => -1 | 0 | 1 ) { // find the position of the first element that is greater than the inserted one const index = list.findIndex(list, item, (a, b) => comparator(a, b) === -1); // if we do not find it, then add it to the end if (index &lt; 0) { list.push(item); return; } // последовательно сдвигаем элементы на 1 позицию влево let tmp = item; for (let i = index, iLen = list.length; i &lt;= iLen; i++) { tmp = list[i]; list[i] = item; item = tmp; } } This could be the end of it. But analyzing the complexity of such a solution, it turns out that findIndex is O(N), and shifting elements is O(N). And if the shifting of elements cannot be accelerated, then the search can be replaced with a binary one and the complexity can be improved to O(log N).
...</p></div><footer class=entry-footer>3 min&nbsp;·&nbsp;621 words&nbsp;·&nbsp;lexich</footer><a class=entry-link aria-label="post link to Insertion of Sorted Data in JS" href=https://tyulenit.com/en/posts/2023-05-10-pushsortable/></a></article><footer class=page-footer><nav class=pagination><a class=prev href=https://tyulenit.com/page/2/>«&nbsp;Prev&nbsp;</a></nav></footer></main><footer class=footer><span>&copy; 2024 <a href=https://tyulenit.com/>ТюленITь</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>