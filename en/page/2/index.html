<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Ens | Ð¢ÑŽÐ»ÐµÐ½ITÑŒ</title><meta name=keywords content><meta name=description content="Ens - Ð¢ÑŽÐ»ÐµÐ½ITÑŒ"><meta name=author content="lexich"><link rel=canonical href=https://tyulenit.com/en/><meta name=google-site-verification content="G-00G3WYG3BJ"><link crossorigin=anonymous href=/assets/css/stylesheet.d6fcd20a4fb86efa4dfac8ec95da60244cc8871042183da1ef28e3a762ad79c8.css integrity="sha256-1vzSCk+4bvpN+sjsldpgJEzIhxBCGD2h7yjjp2Ktecg=" rel="preload stylesheet" as=style><link rel=icon href=https://tyulenit.com/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://tyulenit.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://tyulenit.com/favicon-32x32.png><link rel=apple-touch-icon href=https://tyulenit.com/apple-touch-icon.png><link rel=mask-icon href=https://tyulenit.com/apple-touch-icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://tyulenit.com/en/index.xml><link rel=alternate hreflang=en href=https://tyulenit.com/en/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-00G3WYG3BJ"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-00G3WYG3BJ")}</script><meta property="og:url" content="https://tyulenit.com/en/"><meta property="og:site_name" content="Ð¢ÑŽÐ»ÐµÐ½ITÑŒ"><meta property="og:title" content="Ens"><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta property="og:image" content="https://tyulenit.com/seal.jpg"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://tyulenit.com/seal.jpg"><meta name=twitter:title content="Ens"><meta name=twitter:description content><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Ens","item":"https://tyulenit.com/en/"}]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://tyulenit.com/ accesskey=h title="Ð¢ÑŽÐ»ÐµÐ½ITÑŒ (Alt + H)"><img src=https://tyulenit.com/apple-touch-icon.png alt aria-label=logo height=35>Ð¢ÑŽÐ»ÐµÐ½ITÑŒ</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://tyulenit.com/tags/ title=tags><span>tags</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://tyulenit.com/>Home</a></div><h1>Ens
<a href=/en/index.xml title=RSS aria-label=RSS><svg viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" height="23"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg></a></h1></header><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Working with atoms in mobx</h2></header><div class=entry-content><p>The mobx library has a very interesting primitive atom, which is created via createAtom. With its help, you can create very interesting constructions and build almost the entire architecture of the application. What does the documentation tell us:
`createAtom` {ðŸš€} Usage: `createAtom(name, onBecomeObserved?, onBecomeUnobserved?)` Creates your own observable data structure and hooks it up to MobX. Used internally by all observable data types. Atom exposes two `report` methods to notify MobX with when: - `reportObserved()`: the atom has become observed, and should be considered part of the dependency tree of the current derivation. - `reportChanged()`: the atom has changed, and all derivations depending on it should be invalidated. Letâ€™s wrap it a little so that it will be more convenient to use it in the future.
...</p></div><footer class=entry-footer><span title='2023-05-18 12:52:56 +0400 +0400'>May 18, 2023</span>&nbsp;Â·&nbsp;3 min&nbsp;Â·&nbsp;445 words&nbsp;Â·&nbsp;lexich</footer><a class=entry-link aria-label="post link to Working with atoms in mobx" href=https://tyulenit.com/en/posts/2023-05-18-createatom/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Asynchronous pagination</h2></header><div class=entry-content><p>Today I would like to tell you a little about my own development https://github.com/lexich/async-paginator
This is a small library that allows you to process data collections using asynchronous iterators. At the same time, flexible configuration of the number of tasks to be started simultaneously is available (you can start all at once or split into groups).
import { paginatorUnordered, paginator } from 'async-paginator'; const sleep = (delay: number) => new Promise&lt;void>((resolve) => setTimeout(resolve, delay)); // for ordering use `paginator` instead of paginatorUnordered const paginate = paginatorUnordered([1, 2, 3, 4, 5, 6, 7, 8], async (num) => { if (num % 2 === 0) { await sleep(10); // timeout 10ms } return num * 10; }, { offset: 1, chunks: 2, mode: 'chunks', }); const result: number[] = []; for await (const item of paginate) { if (!(item instanceof PaginationAsyncError)) { result.push(item.data); } } console.log("RESULT: ", result); // RESULT: [30, 20, 50, 40, 70, 60, 80]</p></div><footer class=entry-footer><span title='2023-05-17 12:51:37 +0400 +0400'>May 17, 2023</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;155 words&nbsp;Â·&nbsp;lexich</footer><a class=entry-link aria-label="post link to Asynchronous pagination" href=https://tyulenit.com/en/posts/2023-05-17-async-paginator/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Branded types in typescript</h2></header><div class=entry-content><p>Today I want to talk about branded types in typescript. To begin with, letâ€™s imagine that we have a function for currency conversion.
const usdToEur = (usdAmount: number, rate = 0.92) => usdAmount * rate; usdToEur(100); // === 92 eur Letâ€™s improve it a little by introducing the types USD and EUR, so that not only the name of the function and the comments to it tell us about its purpose.
type USD = number; type EUR = number; const usdToEur = (usdAmount: USD, rate = 0.92): EUR => usdAmount * rate; usdToEur(100); // === 92 eur It has become much better, but in fact nothing has changed, because we can also pass any number and the newly introduced types do not protect us from error. And here branded types come to our aid. The point is that we mix additional fields into the type description, which in fact (at runtime) do not exist, but at the same time typescript checks them.
...</p></div><footer class=entry-footer><span title='2023-05-15 12:50:29 +0400 +0400'>May 15, 2023</span>&nbsp;Â·&nbsp;2 min&nbsp;Â·&nbsp;249 words&nbsp;Â·&nbsp;lexich</footer><a class=entry-link aria-label="post link to Branded types in typescript" href=https://tyulenit.com/en/posts/2023-05-15-branding-types/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Migration in React from Context API to Mobx Part 2</h2></header><div class=entry-content><p>Continuing yesterdayâ€™s topic about migration to mobx, the question reasonably arises, why migrate to anything at all, if there is redux, context api, useReducer and all sorts of similar solutions on which React development is now built.
export const AppContext = createContext({}); export const AppContextProvider: FC = ({ children }) => { const [user, setUser] = useState&lt;IUser>(undefined); const [profile, setProfile] = useState&lt;IProfile>(undefined); const setUserId = (id: string) => loadUser(id).then(setUser); useEffect(() => { if (user) { loadProfile(user).then(setProfile); } else { setProfile(undefined); } }, [user]); return ( &lt;AppContext.Provider values={{ user, profile, setUserId }}> {children} &lt;/AppContext.Provider>); } const Component: FC = () => { const { profile } = useContext(AppContext); return &lt;div>{profile.content}&lt;/div> } Letâ€™s imagine a virtual example that is quite simple to find in many projects. Whatâ€™s wrong with it? Letâ€™s do a thought experiment. We have a component that displays profile. How many times will our component re-render when we call setUserId. The first re-render will be on setUser, then useEffect will be called. I would never use it for state management. Next, setProfile and this is the second re-render. The same behavior will be in every component that uses this context. And suboptimality is only half the trouble, but if, for example, we want a small test to check how it all worksâ€¦ I donâ€™t even want to think about it and move to the camp of those who donâ€™t write tests and only talk about them at interviews.
...</p></div><footer class=entry-footer><span title='2023-05-12 12:49:23 +0400 +0400'>May 12, 2023</span>&nbsp;Â·&nbsp;2 min&nbsp;Â·&nbsp;407 words&nbsp;Â·&nbsp;lexich</footer><a class=entry-link aria-label="post link to Migration in React from Context API to Mobx Part 2" href=https://tyulenit.com/en/posts/2023-05-12-migration-reason/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Migrating to React with Context API in Mobx Part 1</h2></header><div class=entry-content><p>There are three things you can do endlessly in life: watch fire burn, watch water flow, and watch me try to persuade you to rewrite your React application with Context API to something more functional, on which you can build a normal application architecture. Lately, Iâ€™ve been choosing mobx more and more often, so letâ€™s talk about it today.
So what to do if the application is already written, but you need to start somewhere?
...</p></div><footer class=entry-footer><span title='2023-05-11 12:47:31 +0400 +0400'>May 11, 2023</span>&nbsp;Â·&nbsp;2 min&nbsp;Â·&nbsp;399 words&nbsp;Â·&nbsp;lexich</footer><a class=entry-link aria-label="post link to Migrating to React with Context API in Mobx Part 1" href=https://tyulenit.com/en/posts/2023-05-11-contextapimigration/></a></article><footer class=page-footer><nav class=pagination><a class=prev href=https://tyulenit.com/en/>Â«&nbsp;Prev&nbsp;
</a><a class=next href=https://tyulenit.com/en/page/3/>Next&nbsp;&nbsp;Â»</a></nav></footer></main><footer class=footer><span>&copy; 2024 <a href=https://tyulenit.com/>Ð¢ÑŽÐ»ÐµÐ½ITÑŒ</a></span> Â·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>